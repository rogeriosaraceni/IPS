// http://www.jqueryscript.net/demo/jQuery-Plugin-For-Fixed-Table-Header-Footer-Columns-TableHeadFixer/
(function(c){c.fn.tableHeadFixer=function(k){function f(){var g=function(a,e){for(var p=b.right,d=1,h=1;h<=p;h+=d){var d=1<d?h-1:h,d=c(a).find("> *:nth-last-child("+d+")"),g=d.prop("colspan");e(d);d=g}},n=function(a,e){for(var p=b.left,d=1,h=1;h<=p;h+=d){var d=1<d?h-1:h,d=c(a).find("> *:nth-child("+d+")"),g=d.prop("colspan");d.cellPos().left<p&&e(d);d=g}},f=function(b){b.each(function(b,a){a=c(a);var d=c(a).parent(),h=a.css("background-color"),h="transparent"==h||"rgba(0, 0, 0, 0)"==h?null:h,d=d.css("background-color"),
    d="transparent"==d||"rgba(0, 0, 0, 0)"==d?null:d;a.css("background-color",h?h:d?d:"white")})},l=function(){var a=c(b.table);b.rightColumns=c();a.find("tr").each(function(a,c){g(c,function(a){b.rightColumns=b.rightColumns.add(a)})});b.rightColumns.each(function(b,a){a=c(a);f(a);a.css({position:"relative"})})},q=function(){var a=c(b.table);b.leftColumns=c();a.find("tr").each(function(a,c){n(c,function(a){b.leftColumns=b.leftColumns.add(a)})});b.leftColumns.each(function(a,b){b=c(b);f(b);b.css({position:"relative"})})},
    r=function(){var a=c(b.table).find("tfoot");a.find("tr");a=a.find("tr > *");f(a);a.css({position:"relative"})},m=function(){var a=c(b.table).find("thead");a.find("tr");a=a.find("tr > *");f(a);a.css({position:"relative"})},b=c.extend({},{head:!0,foot:!1,left:0,right:0,"z-index":0},k);b.table=this;b.parent=c(b.table).parent();(function(){var a=c(b.parent),e=c(b.table);a.append(e);a.css({"overflow-x":"auto","overflow-y":"auto"});a.scroll(function(){var c=a[0].scrollWidth,d=a[0].clientWidth,h=a[0].scrollHeight,
    e=a[0].clientHeight,g=a.scrollTop(),f=a.scrollLeft();b.head&&this.find("thead tr > *").css("top",g);b.foot&&this.find("tfoot tr > *").css("bottom",h-e-g);0<b.left&&b.leftColumns.css("left",f);0<b.right&&b.rightColumns.css("right",c-d-f)}.bind(e))})();1==b.head&&m();1==b.foot&&r();0<b.left&&q();0<b.right&&l();(function(){var a=c(b.table);if(b.head){if(0<b.left){var e=a.find("thead tr");e.each(function(a,d){n(d,function(a){c(a).css("z-index",b["z-index"]+1)})})}0<b.right&&(e=a.find("thead tr"),e.each(function(a,
    d){g(d,function(a){c(a).css("z-index",b["z-index"]+1)})}))}b.foot&&(0<b.left&&(e=a.find("tfoot tr"),e.each(function(a,d){n(d,function(a){c(a).css("z-index",b["z-index"])})})),0<b.right&&(e=a.find("tfoot tr"),e.each(function(a,d){g(d,function(a){c(a).css("z-index",b["z-index"])})})))})();c(b.parent).trigger("scroll");c(window).resize(function(){c(b.parent).trigger("scroll")})}return this.each(function(){f.call(this)})}})(jQuery);
    (function(c){function k(f){var g=[];f.children("tr").each(function(f,k){c(k).children("td, th").each(function(l,n){for(var k=c(n),m=k.attr("colspan")|0,b=k.attr("rowspan")|0,a,e,m=m?m:1,b=b?b:1;g[f]&&g[f][l];++l);for(a=l;a<l+m;++a)for(e=f;e<f+b;++e)g[e]||(g[e]=[]),g[e][a]=!0;k.data("cellPos",{top:f,left:l})})})}c.fn.cellPos=function(c){var g=this.first(),f=g.data("cellPos");if(!f||c)c=g.closest("table, thead, tbody, tfoot"),k(c);return f=g.data("cellPos")}})(jQuery);
